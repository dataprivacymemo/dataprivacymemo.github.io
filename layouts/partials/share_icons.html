{{- $pageurl := .Permalink }}
{{- $title := .Title }}

<ul class="share-buttons">
    <li>
        <a href="#" class="copy-link" data-url="{{ $pageurl }}" onclick="copyPermalink(event)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share on Bluesky"
            href="https://bsky.app/intent/share?text={{ $title }}&url={{ $pageurl }}">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="black">
                <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm6.496 8.834c.076.526.116 1.066.116 1.612 0 6.391-4.861 10.504-10.884 10.504-2.149 0-4.142-.63-5.828-1.717.298.035.601.053.91.053 1.775 0 3.408-.605 4.707-1.628a3.837 3.837 0 0 1-3.58-2.662 3.837 3.837 0 0 0 1.733-.066 3.835 3.835 0 0 1-3.07-3.761v-.048c.518.288 1.11.461 1.738.481a3.831 3.831 0 0 1-1.19-5.121 10.896 10.896 0 0 0 7.907 4.007 3.835 3.835 0 0 1 6.535-3.495 7.668 7.668 0 0 0 2.43-.93 3.85 3.85 0 0 1-1.686 2.12 7.687 7.687 0 0 0 2.204-.604 7.771 7.771 0 0 1-1.912 1.984z"/>
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share on LinkedIn"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url={{ $pageurl }}&amp;title={{ $title }}&amp;summary={{ $title }}&amp;source={{ $pageurl }}">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="24px" width="24px" fill="currentColor">
                <path d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
</ul>

<script>
function copyPermalink(event) {
    event.preventDefault();
    const url = event.target.closest('a').getAttribute('data-url');
    navigator.clipboard.writeText(url).then(() => {
        const originalSVG = event.target.closest('a').innerHTML;
        event.target.closest('a').innerHTML = 'âœ“';
        setTimeout(() => {
            event.target.closest('a').innerHTML = originalSVG;
        }, 2000);
    }).catch(err => {
        console.error('Failed to copy: ', err);
    });
}
</script>